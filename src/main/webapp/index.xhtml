<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:p="http://xmlns.jcp.org/jsf/html"      
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
      
      <!-- xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"  -->
<h:head>
    <title>MarketPlace</title>
    <h:outputStylesheet library="css" name="messages.css" />
    <h:outputStylesheet library="css" name="index.css" />
    <h:outputStylesheet library="css" name="header.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
</h:head>

<h:body>
	<ui:include src="/WEB-INF/templates/header.xhtml" />
	
	
	<div class="hpDiv">
	
	    <div class="categoriesDiv">
	       <h:form id="categoryForm">
	           <h:selectOneRadio value="#{productBean.selectedCategoryId}" styleClass="category-buttons">
	               <f:selectItem itemValue="0" itemLabel="כל המוצרים" />
	               <f:selectItems value="#{categoryBean.allActives}" var="cat"
	                              itemValue="#{cat.id}" itemLabel="#{cat.name}" />
	               <f:ajax render="productsList" execute="@this"/>
	           </h:selectOneRadio>
	       </h:form>
	   	</div>
	
	
	
	 	<div id="productsdiv">
		 	<h:panelGroup id="productsList">
				<ui:repeat value="#{productBean.filteredProducts}" var="product">
				    <ui:include src="/WEB-INF/templates/productDisplay.xhtml" />
				</ui:repeat>
			</h:panelGroup>
		</div>
		
		

	   	
   	</div>
	
</h:body>
</html>